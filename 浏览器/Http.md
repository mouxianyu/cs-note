## HTTP 和 HTTPS 区别

HTTPS 其实就是建构在 SSL/TLS 之上的 HTTP 协议

- **安全性**
	- HTTP：明文传输，不加密。数据在传输过程中可能会被截获或修改
	- HTTPS：通过SSL/TLS协议对数据进行加密，防止数据被窃听后篡改
- **端口**
	- HTTP：80
	- HTTPS：443
- **证书**
	- HTTP：不需要证书
	- HTTPS：需要从CA（证书颁发机构）获取SSL证书，并部署到服务器上
- **性能**
	- HTTP：没有加密和解密过程，通常性能比HTTPS高
	- HTTPS：需要加密解密，需要消耗资源计算，性能会有所下降（现代HTTPS已经优化，差异不是很大）
- **SEO（搜索引擎优化）**
	- HTTP：搜索引擎可能会对使用HTTP的网站进行降权处理
	- HTTPS：搜索引擎认为其更安全，会获得更好的排名
- **浏览器标记**
	- HTTP：现代浏览器会标记为“不安全”
	- HTTPS：会显示锁，表示是安全的


## HTTP1 / HTTP2 / HTTP3

### HTTP/1.0

- 引入了协议版本信息。
- 状态码的标准化，使得客户端可以了解请求成功或失败。
- 引入了HTTP头部的概念，允许传输元数据。
- 支持多种类型的文档传输，通过`Content-Type`头部实现。
- 支持基本的请求方法，如GET和POST。

#### 精简

1. 每次请求都需要建立一个新的连接，连接**不能复用**，效率较低。


### HTTP/1.1

默认情况下，浏览器对同一域名下的**并发请求数量**有限制，通常为6-8 个

- **持久连接（keep-alive）**：默认情况下，TCP连接在请求后保持打开状态，可以被用来发送多个请求。
- **管线化技术**：允许在第一个响应被完全发送之前发送第二个请求。
- **响应分块**：支持以块的方式传输响应体，特别是对于动态生成的内容。
- **缓存控制**：引入了新的缓存控制头部，如`Cache-Control`。
- **内容协商**：通过头部如`Accept-Language`和`Content-Encoding`等支持内容的国际化和压缩。
- **Host头部**：支持虚拟主机，允许一个服务器拥有多个域名。

#### 精简

1. 引入了**持久连接（keep-alive）**，支持连接复用，减少了连接建立和关闭的开销。
2. 增加了**缓存控制**机制。
3. 支持**请求管道化**，但由于队头阻塞问题，效果有限。


### HTTP/2

通常情况下，同源请求（同一个域名）**并发请求**可以达到100个以上

- **二进制协议**：采用二进制格式，提高解析效率。
- **多路复用**：允许在单个TCP连接上并行传输多个请求和响应，消除了队头阻塞。
- **头部压缩**：使用HPACK算法压缩请求和响应头部，减少冗余头部信息的传输。
- **服务器推送**：服务器可以主动向客户端推送资源。
- **流的优先级和流量控制**：允许客户端和服务器指定请求的优先级。
- **安全性**：虽然HTTP/2本身不强制加密，但主流实现通常在HTTPS上运行。

#### 精简

1. 采用**二进制格式**传输数据，提高了传输效率。
2. 实现了**多路复用**，多个请求可以在同一个连接上同时发送，解决了队头阻塞问题。
3. 支持**服务器推送**，提前将相关资源推送给客户端。

并发请求太少的解决办法：

- 使用**HTTP/2**
- **域名分片**：将请求拆分到不同的子域中

HTTP/2 支持无限制的并发请求（理论上，可能会受浏览器限制），因此如果使用了 HTTP/2 就没有必要再用域名分片；域名分片每个域名都需要单独进行**DNS解析**和**TCP链接**，额外的开销比较大

### HTTP/3

- **基于QUIC协议**：使用QUIC协议作为传输层，基于UDP。
- **0-RTT连接建立**：允许快速恢复连接，减少连接建立时间。
- **多路复用**：在QUIC层面上实现，每个数据流独立传输，无队头阻塞。
- **前向纠错（FEC）**：支持数据的自我修复，提高传输可靠性。
- **更好的安全性**：QUIC内置了TLS 1.3加密，所有数据流默认加密。
- **连接迁移**：允许连接在不同网络环境下无缝迁移，如移动设备切换Wi-Fi和蜂窝数据。

#### 精简

1. 基于 QUIC 协议，**解决了 TCP 的队头阻塞问题**。
2. 进一步提升了性能和效率。



