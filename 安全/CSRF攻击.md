> Cross-Site Request Forgery，跨站请求伪造

## 定义
CSRF攻击是一种利用用户当前已通过身份验证的会话来执行未经授权的操作的攻击方式。攻击者通过伪造请求，诱使用户在已登录的状态下误触发某些操作，例如转账、更改密码等，从而达到攻击目的。
**自己描述**：攻击者构造恶意请求，如一个链接可以进行诸如转账的操作，因为登录信息放在cookie中，cookie会跟着请求发送到服务器上。

## 防止
### 同源政策
只有同源的网站可以访问操作
- Cookie的`SameSite`设置为`strict`或`lax`，防止第三方网站读取或修改cookie
- 检查 `Referer` 头，确保是从合法来源发起的（ `Referer` 头可以被篡改）
- 检查 `Origin` 头，检测来源（同样可以被篡改）
### CSRF令牌
每个会话生成一个令牌，敏感操作包含该令牌，攻击者无法获取用户CSRF令牌，没法伪造合法请求
### 双重提交Cookie
在每个用户会话中设置两个相同值的Cookie，一个存储在Cookie中，另一个作为隐藏字段包含在请求中。服务器在处理请求时，比较这两个值，以确认请求的合法性。
