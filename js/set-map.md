# Set、Map

JS 中的 Set 和 Map 都是基于哈希表实现的

## Set

Set 是一种**集合数据结构**，它存储唯一的元素，即不允许重复。

-   元素唯一性：Set 中的元素不允许重复。
-   无序性：Set 中的元素没有特定的顺序。
-   常见操作包括添加元素、删除元素、检查元素是否存在等。

## Map

Map 是一种**键值对集合**，它存储了键和值的映射关系。

-   键值对：每个元素都是一个键值对，键是唯一的。
-   有序性：Map 在 ES6 之后的 JavaScript 中是有序的，即元素会按照添加的顺序排列。
-   常见操作包括添加键值对、删除键值对、根据键获取值等。

## Map 相对于 Object 的优势

1. 键的多样性：Map 允许任何类型的值作为键，包括对象、函数等，而传统的对象键只能是字符串或符号
2. 迭代顺序： Map 对象保持元素的插入顺序，这使得迭代 Map 时元素的顺序是可预测的。而传统的对象在迭代时，其属性的顺序可能会受到属性名称字符串排序的影响。
3. 性能：对于频繁增删键值对的场景，Map 通常提供更好的性能。Map 在添加和删除键值对时的时间复杂度接近 O(1)，而对象可能需要更复杂的哈希计算
4. 内置方法：Map 提供了一些有用的内置方法，如 Map.size 属性可以直接返回 Map 中元素的数量，而对象则需要手动计算
5. 弱引用（WeakMap）： Map 可以创建为弱引用，这意味着垃圾回收器可以回收 Map 的键值对，即使外部还有对键的引用，这在某些内存管理场景下非常有用。
6. 类型检查：使用 Map 可以避免一些类型错误，因为 Map 的键和值类型是固定的，而对象的键类型不固定。
7. 可迭代性：Map 实现了 iterator，可以直接用在 for...of 循环中，或者使用扩展运算符 ...

### Map 优点总结：

1. 允许任何类型作为 key
2. 保持插入时的顺序
3. 频繁增删时，性能更好
4. Map.size 可以直接返回元素数量
5. 可以弱引用（WeakMap）
6. Map 键值类型固定
7. Map 可迭代
